<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Import SignUpGenius Data</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>Import SignUpGenius Data</h1>
        </header>
        <main>
            <section class="card">
                <div id="status"></div>
            </section>
        </main>
    </div>

    <script src="app.js?v=5"></script>
    <script>
        // February 2026 ShredClub sessions from SignUpGenius with participants
        // Updated from screenshots on 02/10/2026
        // Large name = participant, small text = notes
        const sessionsToImport = [
            // February 11, 2026 (Wednesday)
            {
                date: '2026-02-11', time: '19:00', sessionType: 'ShredClub', duration: 60, capacity: 4,
                bookings: [
                    { firstName: 'Chris', lastName: 'Mangano', notes: '' },
                    { firstName: 'Isley', lastName: 'Boyarski', notes: '' },
                    { firstName: 'Ed', lastName: 'Laird', notes: '' },
                    { firstName: 'Paul', lastName: 'Dimnd', notes: '' }
                ]
            },
            {
                date: '2026-02-11', time: '20:00', sessionType: 'ShredClub', duration: 60, capacity: 4,
                bookings: [
                    { firstName: 'Bodhi', lastName: 'Wilkins', notes: 'Bodhi Wilkins' },
                    { firstName: 'Bodhi', lastName: 'Wilkins', notes: 'Nick Larrabee' },
                    { firstName: 'Brendan', lastName: 'Conway', notes: '' },
                    { firstName: 'Dianne', lastName: 'Cucufate', notes: 'Alyssa' }
                ]
            },
            {
                date: '2026-02-11', time: '21:00', sessionType: 'ShredClub', duration: 60, capacity: 4,
                bookings: [
                    { firstName: 'Dianne', lastName: 'Cucufate', notes: 'Alyssa' },
                    { firstName: 'Dmitri', lastName: 'Kazarlyga', notes: '' },
                    { firstName: 'Vladislav', lastName: 'Shashkin', notes: '' },
                    { firstName: 'Gabriel', lastName: 'Leonard', notes: '' }
                ]
            },

            // February 18, 2026 (Wednesday)
            {
                date: '2026-02-18', time: '19:00', sessionType: 'ShredClub', duration: 60, capacity: 4,
                bookings: [
                    { firstName: 'Chris', lastName: 'Mangano', notes: '' },
                    { firstName: 'Jon', lastName: 'Mortison', notes: 'Back Fly' },
                    { firstName: 'Ed', lastName: 'Laird', notes: '' },
                    { firstName: 'Dianne', lastName: 'Cucufate', notes: 'Alyssa, Robbie, Erin' }
                ]
            },
            {
                date: '2026-02-18', time: '20:00', sessionType: 'ShredClub', duration: 60, capacity: 4,
                bookings: [
                    { firstName: 'Dianne', lastName: 'Cucufate', notes: 'Alyssa, Robbie, Erin' }
                ]
            },

            // February 25, 2026 (Wednesday)
            {
                date: '2026-02-25', time: '19:00', sessionType: 'ShredClub', duration: 60, capacity: 4,
                bookings: [
                    { firstName: 'Chris', lastName: 'Mangano', notes: '' },
                    { firstName: 'Isley', lastName: 'Boyarski', notes: '' },
                    { firstName: 'Ed', lastName: 'Laird', notes: '' },
                    { firstName: 'Jon', lastName: 'Mortison', notes: 'Back Fly' }
                ]
            },
            {
                date: '2026-02-25', time: '20:00', sessionType: 'ShredClub', duration: 60, capacity: 4,
                bookings: [
                    { firstName: 'Side', lastName: 'Caesar', notes: '' }
                ]
            },
        ];

        // Clear all existing sessions first
        saveSessions([]);

        let statusHtml = '<h2>Importing February ShredClub Sessions...</h2>';
        statusHtml += '<p style="color: var(--success-color);">✓ Cleared all existing sessions</p><ul>';
        let sessionsCreated = 0;
        let sessionsSkipped = 0;
        let bookingsAdded = 0;

        sessionsToImport.forEach(sessionData => {
            const dateObj = new Date(sessionData.date + 'T' + sessionData.time);
            const dateStr = dateObj.toLocaleDateString('en-US', { weekday: 'short', month: 'short', day: 'numeric' });
            const timeStr = dateObj.toLocaleTimeString('en-US', { hour: 'numeric', minute: '2-digit' });

            // Check if session already exists
            const existingSessions = getSessions();
            const existing = existingSessions.find(s =>
                s.date === sessionData.date &&
                s.time === sessionData.time &&
                s.sessionType === sessionData.sessionType
            );

            if (existing) {
                // Session exists - skip it
                sessionsSkipped++;
                statusHtml += `<li style="color: orange;">⚠ Skipped (already exists): ${dateStr} @ ${timeStr} - ${existing.bookings.length} participant(s)</li>`;
            } else {
                // Create new session with expanded capacity for extra people
                const neededCapacity = Math.max(sessionData.capacity, sessionData.bookings.length);
                const session = createSession({
                    sessionType: sessionData.sessionType,
                    date: sessionData.date,
                    time: sessionData.time,
                    duration: sessionData.duration,
                    capacity: neededCapacity
                });

                if (session) {
                    sessionsCreated++;
                    statusHtml += `<li style="color: var(--success-color);">✓ Created: ${dateStr} @ ${timeStr}</li>`;

                    // Add bookings
                    if (sessionData.bookings && sessionData.bookings.length > 0) {
                        sessionData.bookings.forEach(booking => {
                            addBooking(session.id, booking.firstName, booking.lastName, booking.notes);
                            bookingsAdded++;
                        });
                        statusHtml += `<li style="margin-left: 20px; color: var(--text-secondary);">Added ${sessionData.bookings.length} participant(s): ${sessionData.bookings.map(b => b.firstName + (b.lastName ? ' ' + b.lastName : '')).join(', ')}</li>`;
                    }
                }
            }
        });

        statusHtml += '</ul>';
        statusHtml += `<p style="margin-top: 20px; font-size: 1.1rem;"><strong>Summary:</strong> ${sessionsCreated} sessions created, ${bookingsAdded} participants added, ${sessionsSkipped} skipped (duplicates)</p>`;
        statusHtml += '<div style="margin-top: 30px; display: flex; flex-direction: row; gap: 15px;"><a href="host.html" class="btn btn-primary" style="display: inline-block;">Go to Host Dashboard</a><a href="index.html" class="btn btn-outline" style="display: inline-block;">Go to Booking Page</a></div>';

        document.getElementById('status').innerHTML = statusHtml;
    </script>
</body>
</html>
